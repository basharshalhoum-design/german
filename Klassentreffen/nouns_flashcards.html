<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verben Flashcards - Klassentreffen</title>
    <style>
        /* Mobile-First Layout & Styling */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f2f5;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        .header {
            background-color: #0056b3;
            color: white;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .header a {
            color: white;
            text-decoration: none;
            margin: 0 10px;
            font-weight: bold;
            font-size: 1.1em;
        }
        /* Main content area to center the card */
        .content {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
        }
        /* Single-sided card */
        .flashcard {
            width: 100%;
            max-width: 400px; /* One card per screen, slightly wider */
            min-height: 280px;
            background-color: #ffffff;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            border-radius: 12px;
            padding: 25px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .flashcard .german-word {
            font-size: 2.2em;
            font-weight: bold;
            color: #0056b3;
            margin-bottom: 15px;
            cursor: pointer; /* Indicates it's clickable for audio replay */
            text-decoration: underline;
            text-decoration-color: #0056b350;
            transition: color 0.15s;
        }
        .flashcard .german-word:hover {
            color: #007bff;
        }
        .flashcard .translation {
            font-size: 1.4em;
            color: #333;
            margin-bottom: 20px;
        }
        .flashcard .example {
            font-size: 1em;
            color: #555;
            font-style: italic;
            border-top: 1px solid #eee;
            padding-top: 15px;
        }
        .flashcard .example strong {
            color: #000;
        }
        /* Controls area for button and progress */
        .controls {
            padding: 20px;
            text-align: center;
            background-color: #ffffff;
            border-top: 1px solid #ddd;
        }
        #next-button {
            background-color: #28a745; /* Changed color to distinguish from header */
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 30px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-bottom: 10px;
        }
        #next-button:hover {
            background-color: #1e7e34;
        }
        .progress-tracker {
            color: #666;
            font-weight: bold;
            font-size: 1.1em;
        }
    </style>
</head>
<body>
    <div class="header">
        <a href="index.html">ğŸ  HauptmenÃ¼</a>
        <span>Verben: Flashcards (1/3)</span>
    </div>

    <div class="content">
        <div class="flashcard">
            <div class="german-word" id="german-word">...</div>
            <div class="translation" id="arabic-translation">...</div>
            <div class="example" id="hint">...</div>
        </div>
    </div>

    <div class="controls">
        <button id="next-button">Next</button>
        <div class="progress-tracker" id="progress-tracker">0 / 0</div>
    </div>

    <script>
        // --- DATA (MP3 URLs removed, using only German text) ---
const verbData = [
  { german: "Beruf", arabic: "Ù…Ù‡Ù†Ø©", example: "Ich habe einen interessanten <strong>Beruf</strong> gewÃ¤hlt." },
  { german: "Staatsexamen", arabic: "Ø§Ù„Ø§Ù…ØªØ­Ø§Ù† Ø§Ù„Ø­ÙƒÙˆÙ…ÙŠ", example: "Ich habe mich auf das zweite <strong>Staatsexamen</strong> vorbereitet." },
  { german: "Hotelfachschule", arabic: "Ù…Ø¯Ø±Ø³Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙÙ†Ø§Ø¯Ù‚", example: "Ich habe eine <strong>Hotelfachschule</strong> besucht." },
  { german: "Tradition", arabic: "ØªÙ‚Ø§Ù„ÙŠØ¯", example: "Ich wollte die <strong>Tradition</strong> der Familie fortsetzen." },
  { german: "Restaurant", arabic: "Ù…Ø·Ø¹Ù…", example: "Ich habe ein <strong>Restaurant</strong> Ã¼bernommen." },
  { german: "MÃ¤rchenbuch", arabic: "ÙƒØªØ§Ø¨ Ù‚ØµØµ Ø®ÙŠØ§Ù„ÙŠØ©", example: "Ich wollte ein groÃŸes <strong>MÃ¤rchenbuch</strong> fÃ¼r Kinder bearbeiten." },
  { german: "Erfahrung", arabic: "Ø®Ø¨Ø±Ø©", example: "Ich habe viele <strong>Erfahrungen</strong> gesammelt." },
  { german: "Konkurrenz", arabic: "Ù…Ù†Ø§ÙØ³Ø©", example: "Diese <strong>Konkurrenz</strong> hat uns kaputt gemacht." },
  { german: "Kredit", arabic: "Ù‚Ø±Ø¶", example: "Ich konnte die <strong>Kredite</strong> der Bank nicht mehr bezahlen." },
  { german: "Zivildienststelle", arabic: "ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø¯Ù†ÙŠØ©", example: "Ich habe versucht, eine <strong>Zivildienststelle</strong> zu bekommen." },
  { german: "Sprachkenntnisse", arabic: "Ù…Ù‡Ø§Ø±Ø§Øª Ù„ØºÙˆÙŠØ©", example: "Ich habe meine <strong>Sprachkenntnisse</strong> verbessert." },
  { german: "Lehrerin", arabic: "Ù…Ø¹Ù„Ù…Ø©", example: "Ich wollte <strong>Lehrerin</strong> werden." },
  { german: "Kind", arabic: "Ø·ÙÙ„", example: "Aber zu meinem Leben passt kein <strong>Kind</strong>." },
  { german: "Mann", arabic: "Ø±Ø¬Ù„ / Ø²ÙˆØ¬", example: "Welcher <strong>Mann</strong> akzeptiert schon..." },
  { german: "Sohn", arabic: "Ø§Ø¨Ù†", example: "Unser <strong>Sohn</strong> ist auf die Welt gekommen." },
  { german: "Mutti", arabic: "Ø£Ù…ÙŠ", example: "Meine <strong>Mutti</strong> hat sich um das Kind gekÃ¼mmert." },
  { german: "Examen", arabic: "Ø§Ù…ØªØ­Ø§Ù†", example: "Nach dem <strong>Examen</strong> war ich Assistentin." },
  { german: "Assistentin", arabic: "Ù…Ø³Ø§Ø¹Ø¯Ø©", example: "Ich war <strong>Assistentin</strong> an der Uni." },
  { german: "Stelle", arabic: "ÙˆØ¸ÙŠÙØ© / Ù…Ù†ØµØ¨", example: "Ich habe eine <strong>Stelle</strong> in der Auslandsabteilung bekommen." },
  { german: "Auslandsabteilung", arabic: "Ù‚Ø³Ù… Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©", example: "Ich habe in der <strong>Auslandsabteilung</strong> gearbeitet." },
  { german: "Wohnung", arabic: "Ø´Ù‚Ø©", example: "Ich habe eine neue <strong>Wohnung</strong> gefunden." },
  { german: "Erziehungsurlaub", arabic: "Ø¥Ø¬Ø§Ø²Ø© ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø£Ø·ÙØ§Ù„", example: "Ich habe <strong>Erziehungsurlaub</strong> genommen." },
  { german: "Kinderbuch", arabic: "ÙƒØªØ§Ø¨ Ø£Ø·ÙØ§Ù„", example: "Ich wollte <strong>KinderbÃ¼cher</strong> schreiben." },
  { german: "Einrichtung", arabic: "ØªØ¬Ù‡ÙŠØ²Ø§Øª / Ø¯ÙŠÙƒÙˆØ±", example: "Ich wollte die <strong>Einrichtung</strong> der KÃ¼che erneuern." },
  { german: "KÃ¼che", arabic: "Ù…Ø·Ø¨Ø®", example: "Ich habe die <strong>KÃ¼che</strong> komplett erneuert." },
  { german: "Aufzug", arabic: "Ù…ØµØ¹Ø¯", example: "Ich wollte einen <strong>Aufzug</strong> einbauen." },
  { german: "Hotel", arabic: "ÙÙ†Ø¯Ù‚", example: "Ich habe ein groÃŸes <strong>Hotel</strong> gebaut." },
  { german: "Familie", arabic: "Ø¹Ø§Ø¦Ù„Ø©", example: "Ich wollte die <strong>Familie</strong> unterstÃ¼tzen." },
  { german: "Blut", arabic: "Ø¯Ù…", example: "Ich konnte einfach kein <strong>Blut</strong> sehen." },
  { german: "Vater", arabic: "Ø£Ø¨", example: "Mein <strong>Vater</strong> hat sich geÃ¤rgert." },
  { german: "Studium", arabic: "Ø¯Ø±Ø§Ø³Ø© Ø¬Ø§Ù…Ø¹ÙŠØ©", example: "Ich konnte mich nicht fÃ¼r ein <strong>Studium</strong> entscheiden." },
  { german: "Wirtschaft", arabic: "Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯", example: "Ich wollte in die <strong>Wirtschaft</strong> gehen." },
  { german: "Zahl", arabic: "Ø¹Ø¯Ø¯", example: "Ich wollte die <strong>Zahl</strong> der Zimmer vergrÃ¶ÃŸern." },
  { german: "Zimmer", arabic: "ØºØ±ÙØ©", example: "Ich habe die <strong>Zimmer</strong> renoviert." },
  { german: "Tradition", arabic: "ØªÙ‚Ø§Ù„ÙŠØ¯", example: "Ich wollte die <strong>Tradition</strong> der Familie fortsetzen." },
  { german: "MÃ¤dchen", arabic: "ÙØªØ§Ø©", example: "Wir wissen schon, dass es ein <strong>MÃ¤dchen</strong> wird." },
  { german: "Geld", arabic: "Ù…Ø§Ù„", example: "Meine Eltern hatten kein <strong>Geld</strong>." }
];

        
        let currentCardIndex = 0;
        const totalCards = verbData.length;
        let germanVoice = null;
        
        // --- Web Speech API Setup (Only TTS) ---
        function loadVoices() {
            const voices = speechSynthesis.getVoices();
            // Try to find a standard German voice
            germanVoice = voices.find(v => v.lang === "de-DE" || v.lang.startsWith("de"));
            if (!germanVoice) {
                console.warn("No specific German voice found. Will use default voice for TTS.");
            }
        }

        // Must check if the API is available
        if ('speechSynthesis' in window) {
            if (speechSynthesis.onvoiceschanged !== undefined) {
                speechSynthesis.onvoiceschanged = loadVoices;
            }
            loadVoices();
        } else {
            console.error("Web Speech API not supported in this browser. Audio will not work.");
        }

        // Core TTS function
        function speak(text) {
            if (!('speechSynthesis' in window)) return;
            
            // Cancel any current speaking
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }

            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = "de-DE";
            
            if (germanVoice) {
                utterance.voice = germanVoice;
            } else {
                // Set language even if voice isn't explicitly found
                utterance.lang = "de-DE"; 
            }
            
            speechSynthesis.speak(utterance);
        }
        // --- End Web Speech API Setup ---


        // --- Element Selectors ---
        const germanWordElement = document.getElementById('german-word');
        const arabicTranslationElement = document.getElementById('arabic-translation');
        const hintElement = document.getElementById('hint');
        const progressTrackerElement = document.getElementById('progress-tracker');
        const nextButton = document.getElementById('next-button');

        // --- Core Audio Function (Simplified to TTS Only) ---
        function playAudio(text) {
            speak(text);
        }

        // Function to load a card's data into the UI
        function loadCard(index) {
            const data = verbData[index];
            germanWordElement.textContent = data.german;
            arabicTranslationElement.textContent = data.arabic;
            hintElement.innerHTML = `Beispiel: ${data.example}`;
            
            // Update Progress Tracker
            progressTrackerElement.textContent = `${index + 1} / ${totalCards}`;
        }

        // Function to advance to the next card
        function nextCard() {
            // Increment index, looping back to 0 at the end
            currentCardIndex = (currentCardIndex + 1) % totalCards;
            
            // Load the new card's data
            const data = verbData[currentCardIndex];
            loadCard(currentCardIndex);
            
            // Play the audio using TTS
            playAudio(data.german);
        }

        // --- Event Listeners ---
        
        // 1. Next button: advances card and plays new audio
        nextButton.addEventListener('click', nextCard);

        // 2. German word click: replays the current audio
        germanWordElement.addEventListener('click', () => {
            const data = verbData[currentCardIndex];
            playAudio(data.german);
        });

        // 3. Load the very first card when the page opens (and play its audio)
        window.addEventListener('load', () => {
            loadCard(currentCardIndex);
            const data = verbData[currentCardIndex];
            playAudio(data.german);
        });

    </script>
</body>
</html>
